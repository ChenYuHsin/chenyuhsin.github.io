<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">

<head>
  <meta charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <title>JavaScript 中的 NaN, isNaN  | New&#39;s news</title>
  <meta name="description" content="紀錄我所學習到的新知，作為自己的記憶儲存點，也希望把知識分享給恰巧進來的朋友們。" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="NaN, isNaN  雖然 NaN 本身名字為非數字, 但是利用 typeof 來判斷 NaN 的時候, 卻會返回 number.   產生 NaN 的時機1. 計算失敗時錯誤計算對於未定義的運算 (Infinity 相關) 或錯誤數學公式計算時 (對負數進行開偶次方; 對負數進行對數運算; 對小於 - 1 或大於 + 1 的數進行反正弦或反餘弦運算), 得到的計算結果為 NaN  docume">
<meta name="keywords" content="JavaScript,NaN">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 中的 NaN, isNaN ">
<meta property="og:url" content="https://blog.newtchen.me/JavaScript/JavaScript-中的-NaN-isNaN.html">
<meta property="og:site_name" content="New&#39;s news">
<meta property="og:description" content="NaN, isNaN  雖然 NaN 本身名字為非數字, 但是利用 typeof 來判斷 NaN 的時候, 卻會返回 number.   產生 NaN 的時機1. 計算失敗時錯誤計算對於未定義的運算 (Infinity 相關) 或錯誤數學公式計算時 (對負數進行開偶次方; 對負數進行對數運算; 對小於 - 1 或大於 + 1 的數進行反正弦或反餘弦運算), 得到的計算結果為 NaN  docume">
<meta property="og:locale" content="zh-tw">
<meta property="og:updated_time" content="2018-07-24T15:20:19.744Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript 中的 NaN, isNaN ">
<meta name="twitter:description" content="NaN, isNaN  雖然 NaN 本身名字為非數字, 但是利用 typeof 來判斷 NaN 的時候, 卻會返回 number.   產生 NaN 的時機1. 計算失敗時錯誤計算對於未定義的運算 (Infinity 相關) 或錯誤數學公式計算時 (對負數進行開偶次方; 對負數進行對數運算; 對小於 - 1 或大於 + 1 的數進行反正弦或反餘弦運算), 得到的計算結果為 NaN  docume">
  <!-- build:css css/screen.css -->
  <link rel="stylesheet" href="/css/screen.css">
  <!-- 自訂樣式-->
  <link rel="stylesheet" href="/css/newtchen.css">
  
  <!-- endbuild -->
  
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
  <meta name="generator" content="New's news">
  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  
</head>


<body class="post-template">

  <header class="main-header post-head no-cover" >
    <nav class="main-nav  clearfix">
        
        <a class="back-button icon-arrow-left" href="/">Home</a>
        <a class="subscribe-button icon-feed" href="/atom.xml">Subscribe</a>
    </nav>
    
    <a class="scroll-down icon-arrow-left" href="#content" data-offset="-45"><span class="hidden">Scroll Down</span></a>
</header>

  

<main id="content" class="content" role="main">
  <article class="post" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
      <h1 class="post-title" itemprop="name">JavaScript 中的 NaN, isNaN </h1>
      <section class="post-meta">
  <time datetime="2018-07-04T17:02:00.000Z" itemprop="datePublished" class="post-date">
      2018-07-05
  </time>
  
  
  on 
  <a href='/tags/JavaScript/'>JavaScript</a>,
  
  <a href='/tags/NaN/'>NaN</a>
  
  
</section>

    </header>
    <section class="post-content" itemprop="description articleBody">
      

      
      <section class="post-updated">
  Last updated on <time datetime="2018-07-24T15:20:19.744Z" itemprop="dateModified">
      2018-07-24
  </time>
</section>

      
      <h1 id="NaN-isNaN"><a href="#NaN-isNaN" class="headerlink" title="NaN, isNaN"></a>NaN, isNaN</h1><blockquote>
<p> 雖然 NaN 本身名字為非數字, 但是利用 typeof 來判斷 NaN 的時候, 卻會返回 number. </p>
</blockquote>
<h2 id="產生-NaN-的時機"><a href="#產生-NaN-的時機" class="headerlink" title="產生 NaN 的時機"></a>產生 NaN 的時機</h2><h3 id="1-計算失敗時"><a href="#1-計算失敗時" class="headerlink" title="1. 計算失敗時"></a>1. 計算失敗時</h3><h4 id="錯誤計算"><a href="#錯誤計算" class="headerlink" title="錯誤計算"></a>錯誤計算</h4><p>對於未定義的運算 (Infinity 相關) 或錯誤數學公式計算時 (對負數進行開偶次方; 對負數進行對數運算; 對小於 - 1 或大於 + 1 的數進行反正弦或反餘弦運算), 得到的計算結果為 NaN </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="built_in">Math</span>.sqrt(<span class="number">-1</span>));      <span class="comment">// 結果為 NaN  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="number">0</span>/<span class="number">0</span>);                <span class="comment">// 結果為 NaN  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="number">5</span>/<span class="number">0</span>);                <span class="comment">// 結果為 Infinity  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="literal">Infinity</span>/<span class="literal">Infinity</span>)   <span class="comment">// 結果為 NaN  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="number">0</span>/<span class="literal">Infinity</span>);         <span class="comment">// 結果為 0  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="number">0</span>*<span class="literal">Infinity</span>);         <span class="comment">// 結果為 NaN</span></span><br></pre></td></tr></table></figure>
<h4 id="加法以外的四則運算"><a href="#加法以外的四則運算" class="headerlink" title="加法以外的四則運算"></a>加法以外的四則運算</h4><p>帶有減號 (-) 乘號 (*) 或 除號 (/) 運算符時, JavaScript  引擎會先嘗試將待計算單項轉換成 Number 類型 (使用 <code>Number(x)</code> 做轉換), 如果轉換失敗, 整個計算結果即為 <code>NaN</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">10</span> - <span class="string">'5a'</span>           <span class="comment">// NaN  </span></span><br><span class="line"><span class="string">'5a'</span> * <span class="number">5</span>            <span class="comment">// NaN  </span></span><br><span class="line"><span class="string">'10'</span> / <span class="string">'5a'</span>;        <span class="comment">// NaN  </span></span><br><span class="line">  </span><br><span class="line"><span class="literal">undefined</span> - <span class="number">5</span>;      <span class="comment">// NaN  Number(undefined) == NaN  </span></span><br><span class="line"><span class="string">''</span> * <span class="number">5</span>              <span class="comment">// 0    Number('') == 0  </span></span><br><span class="line"><span class="literal">true</span> * <span class="number">5</span>            <span class="comment">// 5    Number(true) == 1  </span></span><br><span class="line">[] * <span class="number">5</span>              <span class="comment">// 0    Number([]) == 0  </span></span><br><span class="line"><span class="literal">null</span> - <span class="number">5</span>;           <span class="comment">// -5   Number(null) == 0</span></span><br></pre></td></tr></table></figure>
<h4 id="加法四則運算"><a href="#加法四則運算" class="headerlink" title="加法四則運算"></a>加法四則運算</h4><p>如果加號 (+) 兩端單項 有任意一個是字符串 js 會進行<strong>拼接</strong>操作, 只有加號 (+) 兩端單項都是<strong>數字 Number 類型的時</strong>, 才會進行相加計算</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="number">1</span> + <span class="number">2</span> + <span class="string">'3'</span>         + <span class="string">"&lt;br/&gt;"</span>);    <span class="comment">// 計算結果為 33  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="number">1</span> + <span class="string">'2'</span> + <span class="number">3</span>         + <span class="string">"&lt;br/&gt;"</span>);    <span class="comment">// 計算結果為 123  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="number">1</span> + <span class="literal">undefined</span> + <span class="number">3</span>   + <span class="string">"&lt;br/&gt;"</span>);    <span class="comment">// 計算結果為 NaN  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="number">1</span> + <span class="string">''</span> + <span class="number">3</span>          + <span class="string">"&lt;br/&gt;"</span>);    <span class="comment">// 計算結果為 13</span></span><br></pre></td></tr></table></figure>
<h3 id="2-解析數字失敗"><a href="#2-解析數字失敗" class="headerlink" title="2. 解析數字失敗"></a>2. 解析數字失敗</h3><p>任何一個字符串當<strong>不能</strong>被 parseInt, parseFloat 或 Number 成功轉換時, 就返回 NaN, 表示該字符串無法被識別為 Number 類型, 這是一個異常狀態, 並不是一個確切的值 : </p>
<h4 id="被轉換值中不含任何數字"><a href="#被轉換值中不含任何數字" class="headerlink" title="被轉換值中不含任何數字"></a>被轉換值中不含任何數字</h4><p>使用 parseInt, parseFloat 或 Number 進行轉換時, 直接返回 NaN </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'bluetata'</span>)     <span class="comment">// NaN  </span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'bluetata'</span>)   <span class="comment">// NaN  </span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'bluetata'</span>)       <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
<h4 id="被轉換值中含任何數字時"><a href="#被轉換值中含任何數字時" class="headerlink" title="被轉換值中含任何數字時"></a>被轉換值中含任何數字時</h4><p>parseInt 和 parseFloat 會將被轉換值中第一個無效字符之前的 數字字符串進行轉換; </p>
<p>Number 會將被轉換值當做一個整體來轉換, 這樣對於 Number() 來說, 即使被轉換值中包含數字, 也<strong>不會</strong>將數字轉換出來</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'123abc'</span>)         <span class="comment">// 轉換結果 123  </span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'123abc45'</span>)       <span class="comment">// 轉換結果 123  </span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'abc123def'</span>)      <span class="comment">// 轉換結果 NaN  </span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'123.45abc'</span>)    <span class="comment">// 轉換結果 123.45  </span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'123abc'</span>)       <span class="comment">// 轉換結果 123  </span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'123abc'</span>)           <span class="comment">// 轉換結果 NaN</span></span><br></pre></td></tr></table></figure>
<h3 id="3-與-NaN-有關的計算"><a href="#3-與-NaN-有關的計算" class="headerlink" title="3. 與 NaN 有關的計算"></a>3. 與 NaN 有關的計算</h3><p>任何涉及與 NaN 的計算, 返回結果為 NaN </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="string">"NaN === NaN     :"</span> + (<span class="literal">NaN</span> === <span class="literal">NaN</span>)   + <span class="string">"&lt;br/&gt;"</span>);             <span class="comment">// false  </span></span><br><span class="line">  </span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"isNaN(NaN + 10) :"</span> + <span class="built_in">isNaN</span>(<span class="literal">NaN</span> + <span class="number">10</span>) + <span class="string">"&lt;br/&gt;"</span>);             <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"isNaN(NaN - 10) :"</span> + <span class="built_in">isNaN</span>(<span class="literal">NaN</span> - <span class="number">10</span>) + <span class="string">"&lt;br/&gt;"</span>);             <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"isNaN(NaN * 10) :"</span> + <span class="built_in">isNaN</span>(<span class="literal">NaN</span> * <span class="number">10</span>) + <span class="string">"&lt;br/&gt;"</span>);             <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"isNaN(0/NaN)    :"</span> + <span class="built_in">isNaN</span>(<span class="number">0</span>/<span class="literal">NaN</span>)    + <span class="string">"&lt;br/&gt;"</span>);             <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"isNaN(NaN/1)    :"</span> + <span class="built_in">isNaN</span>(<span class="literal">NaN</span>/<span class="number">1</span>)    + <span class="string">"&lt;br/&gt;"</span>);             <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="isNaN"><a href="#isNaN" class="headerlink" title="isNaN"></a>isNaN</h2><h3 id="為什麼要用-isNaN-函式"><a href="#為什麼要用-isNaN-函式" class="headerlink" title="為什麼要用 isNaN 函式"></a>為什麼要用 <code>isNaN</code> 函式</h3><blockquote>
<p>因為 NaN 不與任何值相等</p>
</blockquote>
<p>NaN 不能通過相等操作符（== 和 ===）來判斷, 因為 NaN 不與任何值相等, 即使是 NaN 自己本身</p>
<p>isNaN 可以視為：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">isNaN</span> = <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;  </span><br><span class="line">    <span class="built_in">Number</span>.isNaN(<span class="built_in">Number</span>(value));  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果 isNaN 函數的參數不是 Number 類型, isNaN 函數會首先嘗試將這個參數轉換為數值, 然後才會對轉換後的結果是否是 NaN 進行判斷. 因此, 對於能被強制轉換為有效的非 NaN 數值來說（空字符串和布爾值分別會被強制轉換為數值 <strong>0</strong> 和 <strong>1</strong>）, 會返回 false 值 </p>
<h2 id="一些-NaN-判ㄌ斷結果"><a href="#一些-NaN-判ㄌ斷結果" class="headerlink" title="一些 NaN 判ㄌ斷結果"></a>一些 NaN 判ㄌ斷結果</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">isNaN</span>(<span class="literal">NaN</span>);                 <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">undefined</span>);           <span class="comment">// true  </span></span><br><span class="line"><span class="built_in">isNaN</span>(&#123;&#125;);                  <span class="comment">// true  </span></span><br><span class="line">  </span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">Infinity</span>)             <span class="comment">// false  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">5</span>/<span class="number">0</span>)                  <span class="comment">// false  5/0 返回 Infinity 認為是無限大數字  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">0</span>/<span class="number">0</span>)                  <span class="comment">// true   為 NaN 。零除以零的會是 NaN——不過把其他數字除以零則不是 NaN </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">"0/0"</span>)                <span class="comment">// true   為 NaN  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">Infinity</span>/<span class="literal">Infinity</span>);   <span class="comment">// true  </span></span><br><span class="line">  </span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">true</span>);                <span class="comment">// false: true 被轉換成 1 同樣如果是'false'會被轉換成 0  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">null</span>);                <span class="comment">// false  null 被轉換成 0  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">37</span>);                  <span class="comment">// false  </span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// strings  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">"37"</span>);                <span class="comment">// false: 可以被轉換成數值 37  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">"37.37"</span>);             <span class="comment">// false: 可以被轉換成數值 37.37  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">""</span>);                  <span class="comment">// false: 空字符串被轉換成 0  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">" "</span>);                 <span class="comment">// false: 包含空格的字符串被轉換成 0  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">"bluetata"</span>)           <span class="comment">// true: "blabla" 不能轉換成數值  </span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// dates  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="keyword">new</span> <span class="built_in">Date</span>());                <span class="comment">// false 時間會被轉換成毫秒 + 1  </span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="keyword">new</span> <span class="built_in">Date</span>().toString());     <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="資料參考"><a href="#資料參考" class="headerlink" title="資料參考"></a>資料參考</h2><p><a href="https://blog.csdn.net/dietime1943/article/details/79867562" target="_blank" rel="noopener">https://blog.csdn.net/dietime1943/article/details/79867562</a></p>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/isNaN" target="_blank" rel="noopener">https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/isNaN</a></p>

    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>NewtChen</h4>
    <p>const ME = new Person({ SeriousName = `Chen Yu-Hsin`, CasualName = `Newt`, Email = `s63232@gmail.com` });</p>
    
    <div class="author-meta">
      <span class="author-location icon-location">Taiwan</span>
      <span class="author-link icon-link"><a href="chenyuhsin.ml">chenyuhsin.ml</a></span>
    
      <section>
        
          <a href="https://twitter.com/s63232" class="author-social">twitter</a>
        
          <a href="https://github.com/sss63232" class="author-social">github</a>
        
      </section>
    </div>
</section>

      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" href="http://twitter.com/share?url=https://blog.newtchen.me/JavaScript/JavaScript-中的-NaN-isNaN.html"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.newtchen.me/JavaScript/JavaScript-中的-NaN-isNaN.html"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=https://blog.newtchen.me/JavaScript/JavaScript-中的-NaN-isNaN.html"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>
    </footer>
  </article>
  <nav class="pagination" role="pagination">
  
  <a class="newer-posts" href="/JavaScript/ES6-實踐經典排序法-1.html" title="ES6 實踐經典排序法 (1)">
    ← Newer Post
  </a>
  
  <span class="page-number">•</span>
  
  <a class="older-posts" href="/post/JavaScript-Design-Pattern-Singleton.html" title="JavaScript Design Pattern: Singleton">
      Older Post →
  </a>
  
</nav>

  
<div id="comment" class="comments-area">
    <h2 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h2>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
    
</div>

</main>


  <footer class="site-footer clearfix">
 <section class="copyright">
 	<a href="/">
 		New's news
 	</a> 
 	&copy; 2018 &bull; All rights reserved.
 </section>
 <section class="poweredby">
 	Proudly published with 
 		<a class="icon-ghost" href="http://zespia.tw/hexo/"> 
 			Hexo
 		</a>
 </section>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/jquery-2.0.3.min.js"><\/script>')</script>

<script type="text/javascript" src="/js/index.js"></script>




<script type="text/javascript">
    var disqus_shortname = 'newchen';
    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</body>
</html>
